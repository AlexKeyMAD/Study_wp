<head>
    <link rel="stylesheet" href="../../../css/books_style.css">
</head>

<body>
    <div>
        <p><a href="./03_03.html">&lArr;Текст и шрифты</a></p>
        <h1>Формы</h1>
        <hr>
        <h2>Вступление</h2>
        <p>SFML предоставляет набор классов, представляющих объекты простой формы. Каждый тип фигуры — это отдельный класс, но все они происходят от одного и того же базового класса, поэтому у них есть доступ к одному и тому же подмножеству общих функций.
            Затем каждый класс добавляет свои особенности: свойство радиуса для класса окружности, размер для класса прямоугольника, точки для класса многоугольника и т. д.</p>
        <hr>
        <h2>Общие свойства формы</h2>
        <h4>Преобразование (положение, поворот, масштаб)</h4>
        <p>Эти свойства являются общими для всех графических классов SFML, поэтому они объясняются в отдельном руководстве: <span><a href="./03_06.html">Преобразование объектов</a></span>.</p>
        <h4>Цвет</h4>
        <p>Одним из основных свойств фигуры является ее цвет. Вы можете изменить с помощью функции setFillColor.</p>
        <img src="./03_04_01.png" alt="">
        <img src="./03_04_02.png" alt="" class="border-none">
        <h4>Контур</h4>
        <p>Фигуры могут иметь контур. Вы можете установить толщину и цвет контура с помощью функций setOutlineThickness и setOutlineColor.</p>
        <img src="./03_04_03.png" alt="">
        <img src="./03_04_04.png" alt="" class="border-none">
        <p>По умолчанию контур выдавливается наружу из фигуры (например, если у вас есть круг с радиусом 10 и толщиной контура 5, общий радиус круга будет равен 15). Вместо этого вы можете заставить его выдавливаться к центру фигуры, установив отрицательную
            толщину.
        </p>
        <p>Чтобы отключить контур, установите его толщину на 0. Если вам нужен только контур, вы можете установить цвет заливки на sf::Color::Transparent.</p>
        <h4>Текстура</h4>
        <p>Формы также могут быть текстурированы, как и спрайты. Чтобы указать часть текстуры, которая должна быть сопоставлена с формой, вы должны использовать функцию setTextureRect. Требуется прямоугольник текстуры для сопоставления с ограничивающим прямоугольником
            формы. Этот метод не обеспечивает максимальной гибкости, но его гораздо проще использовать, чем индивидуально задавать текстурные координаты каждой точки фигуры.</p>
        <img src="./03_04_05.png" alt="">
        <img src="./03_04_06.png" alt="" class="border-none">
        <p>Обратите внимание, что контур не текстурирован. Важно знать, что текстура модулируется (умножается) цветом заливки фигуры. Если его цвет заливки sf::Color::White, текстура не изменится. Чтобы отключить текстурирование, вызовите setTexture(NULL).</p>
        <hr>
        <h2>Рисование формы</h2>
        <p>Рисование фигуры так же просто, как рисование любого другого объекта SFML:</p>
        <img src="./03_04_07.png" alt="">
        <hr>
        <h2>Встроенные типы фигур</h2>
        <h4>Приямоугольник</h4>
        <p>Для рисования прямоугольников можно использовать класс sf::RectangleShape. У него есть единственный атрибут: размер прямоугольника.</p>
        <img src="./03_04_08.png" alt="">
        <img src="./03_04_09.png" alt="" class="border-none">
        <hr>
        <h4>Круги</h4>
        <p>Круги представлены классом sf::CircleShape. У него есть два атрибута: радиус и количество сторон. Количество сторон является необязательным атрибутом, он позволяет настроить «качество» круга: круги должны быть аппроксимированы многоугольниками
            со многими сторонами (видеокарта не может напрямую нарисовать идеальный круг), и этот атрибут определяет сколько сторон будет иметь приближение вашего круга. Если вы рисуете маленькие круги, вам, вероятно, понадобится только несколько сторон.
            Если вы рисуете большие круги или масштабируете обычные круги, вам, скорее всего, понадобится больше сторон.</p>
        <img src="./03_04_10.png" alt="">
        <img src="./03_04_11.png" alt="" class="border-none">
        <h4>Правильные многоугольники</h4>
        <p>Специального класса для правильных многоугольников не существует, фактически вы можете представить правильный многоугольник с любым количеством сторон, используя класс sf::CircleShape: Поскольку круги аппроксимируются многоугольниками со многими
            сторонами, вам просто нужно поиграть с количеством сторон, чтобы получить желаемые полигоны. sf::CircleShape с 3 точками — это треугольник, с 4 точками — квадрат и т. д.</p>
        <img src="./03_04_12.png" alt="">
        <img src="./03_04_13.png" alt="" class="border-none">
        <h4>Выпуклые формы</h4>
        <p>Класс sf::ConvexShape — это окончательный класс формы: он позволяет определить любую выпуклую форму. SFML не может рисовать вогнутые формы. Если вам нужно нарисовать вогнутую форму, вам придется разбить ее на несколько выпуклых многоугольников.</p>
        <p>Чтобы построить выпуклую форму, вы должны сначала установить количество точек, которые она должна иметь, а затем определить точки.</p>
        <img src="./03_04_14.png" alt="">
        <div class="atention">
            <p>Порядок, в котором вы определяете точки, очень важен. Все они должны быть определены либо по часовой стрелке, либо против часовой стрелки. Если вы зададите их в непоследовательном порядке, форма будет построена неправильно.</p>
        </div>
        <img src="./03_04_15.png" alt="" class="border-none">
        <p>Хотя название sf::ConvexShape подразумевает, что его следует использовать только для представления выпуклых фигур, его требования несколько смягчены. На самом деле, единственное требование, которому должна соответствовать ваша фигура, это то,
            что если вы пошли дальше и нарисовали линии от ее центра тяжести ко всем ее точкам, эти линии должны быть нарисованы в одном и том же порядке. Вам не разрешается «прыгать за предыдущую строку». Внутри выпуклые формы автоматически создаются
            с помощью веера треугольников, поэтому, если ваша фигура может быть представлена веером треугольников, вы можете использовать sf::ConvexShape. С этим упрощенным определением вы можете рисовать звезды, используя, например, sf::ConvexShape.</p>
        <h4>Линии</h4>
        <p>Для линий нет класса формы. Причина проста: если ваша линия имеет толщину, это прямоугольник. Если это не так, его можно нарисовать с помощью линейного примитива.</p>
        <p>Толстая линия:</p>
        <img src="./03_04_16.png" alt="">
        <img src="./03_04_17.png" alt="" class="border-none">
        <p>Тонкая линия:</p>
        <img src="./03_04_18.png" alt="">
        <img src="./03_04_19.png" alt="" class="border-none">
        <p>Чтобы узнать больше о вершинах и примитивах, вы можете прочитать <span><a href="./03_05.html">учебник по массивам вершин</a></span>.</p>
        <hr>
        <h2>Пользовательские фигуры</h2>
        <p>Вы можете расширить набор классов фигур своими собственными типами фигур. Для этого вы должны быть производными от sf::Shape и переопределить две функции:</p>
        <ul>
            <li><span class="font-bold">getPointCount:</span> вернуть количество точек в фигуре</li>
            <li><span class="font-bold">getPoint:</span> вернуть точку фигуры</li>
        </ul>
        <p>Вы также должны вызывать защищенную функцию update() всякий раз, когда изменяется какая-либо точка вашей формы, чтобы базовый класс был проинформирован и мог обновить свою внутреннюю геометрию.</p>
        <p>Вот полный пример пользовательского класса формы: EllipseShape.</p>
        <img src="./03_04_20.png" alt="">
        <img src="./03_04_21.png" alt="" class="border-none">
        <hr>
        <h2>Сглаженные формы</h2>
        <p>Нет возможности сглаживания одной фигуры. Чтобы получить сглаженные формы (т. е. фигуры со сглаженными краями), вы должны включить сглаживание глобально при создании окна с помощью соответствующего атрибута структуры sf::ContextSettings.</p>
        <img src="./03_04_22.png" alt="">
        <img src="./03_04_23.png" alt="" class="border-none">
        <p>Помните, что доступность сглаживания зависит от видеокарты: она может его не поддерживать или принудительно отключить в настройках драйвера.</p>
        <hr>
        <p><a href="./03_05.html">Создание собственных сущностей с массивами вершин&rArr;</a></p>
    </div>
</body>