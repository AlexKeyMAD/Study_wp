<head>
    <link rel="stylesheet" href="../../../css/books_style.css">
</head>

<body>
    <div>
        <p><a href="./04_03.html">&lArr;Пользовательские аудиопотоки</a></p>
        <h1>Пространственность: Звуки в 3D</h1>
        <hr>
        <h2>Вступление</h2>
        <p>По умолчанию звуки и музыка воспроизводятся на полную громкость в каждом динамике; они не пространственные.</p>
        <p>Если звук издается объектом, который находится справа от экрана, вы, вероятно, захотите услышать его из правого динамика. Если позади плеера воспроизводится музыка, вы хотели бы услышать ее через задние динамики вашей звуковой системы Dolby 5.1.</p>
        <p>Как этого добиться?</p>
        <hr>
        <h2>Пространственные звуки моно</h2>
        <div class="atention">
            <p>Звук может быть пространственным только в том случае, если он имеет один канал, то есть если это монофонический звук.</p>
            <p>Пространственная обработка отключена для звуков с большим количеством каналов, поскольку они уже явно определяют, как использовать динамики. Это очень важно иметь в виду.</p>
        </div>
        <hr>
        <h2>Слушатель</h2>
        <p>Все звуки и музыку в вашем звуковом окружении будет слышать один актер: слушатель. То, что выводится из ваших динамиков, определяется тем, что слышит слушатель.</p>
        <p>Класс, определяющий свойства прослушивателя, — sf::Listener. Поскольку прослушиватель уникален в среде, этот класс содержит только статические функции и не предназначен для создания экземпляров.</p>
        <p>Во-первых, вы можете установить положение слушателя в сцене:</p>
        <img src="./04_04_01.png" alt="">
        <p>Если у вас есть 2D-мир, вы можете просто использовать везде одно и то же значение Y, обычно 0.</p>
        <p>Помимо его положения, вы можете определить ориентацию слушателя:</p>
        <img src="./04_04_02.png" alt="">
        <p>Здесь слушатель ориентирован по оси +X. Это означает, что, например, звук, издаваемый в точке (15, 0, 5), будет слышен из правого динамика.</p>
        <p>Вектор «вверх» слушателя по умолчанию установлен в (0, 1, 0), другими словами, верхняя часть головы слушателя указывает на +Y. Вы можете изменить вектор «вверх», если хотите. Хотя это редко бывает необходимо.</p>
        <img src="./04_04_03.png" alt="">
        <p>Это соответствует тому, что слушатель наклоняет голову вправо (+X).</p>
        <p>Наконец, слушатель может настроить общую громкость сцены:</p>
        <img src="./04_04_04.png" alt="">
        <p>Значение громкости находится в диапазоне [0 .. 100], поэтому установка его на 50 уменьшает его до половины исходного объема.</p>
        <p>Конечно, все эти свойства можно прочитать с помощью соответствующих функций получения.</p>
        <hr>
        <h2>Источники звука</h2>
        <p>Каждый источник звука, предоставляемый SFML (звуки, музыка, потоки), определяет одни и те же свойства пространственной обработки.</p>
        <p>Основным свойством является положение источника звука.</p>
        <img src="./04_04_05.png" alt="">
        <p>Эта позиция является абсолютной по умолчанию, но при необходимости она может быть относительно слушателя.</p>
        <img src="./04_04_06.png" alt="">
        <p>Это может быть полезно для звуков, издаваемых самим слушателем (например, выстрел из оружия или шаги). У этого также есть интересный побочный эффект отключения пространственной обработки, если вы установите положение источника звука в (0, 0, 0).
            Непространственные звуки могут потребоваться в различных ситуациях: звуки графического интерфейса (щелчки), фоновая музыка и т. д.</p>
        <p>Вы также можете установить коэффициент ослабления источников звука в зависимости от их расстояния до слушателя.</p>
        <img src="./04_04_07.png" alt="">
        <p>Минимальное расстояние — это расстояние, на котором звук будет слышен с максимальной громкостью. Например, более громкие звуки, такие как взрывы, должны иметь большее минимальное расстояние, чтобы их можно было услышать издалека. Обратите внимание,
            что минимальное расстояние 0 (звук находится внутри головы слушателя!) приведет к неправильной пространственной пространственности и приведет к незатуханию звука. 0 — недопустимое значение, никогда не используйте его.</p>
        <p>Затухание является мультипликативным фактором. Чем больше затухание, тем меньше будет слышно, когда звук удаляется от слушателя. Чтобы получить незатухающий звук, вы можете использовать 0. С другой стороны, использование значения, подобного 100,
            сильно ослабит звук, что означает, что он будет слышен только очень близко к слушателю.</p>
        <p>Вот точная формула затухания, если вам нужны точные значения:</p>
        <img src="./04_04_08.png" alt="">
        <p><a href="./05_01.html">Связь с помощью сокетов&rArr;</a></p>
    </div>
</body>