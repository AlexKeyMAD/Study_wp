<head>
    <link rel="stylesheet" href="../../css/books_style.css">
</head>

<body>
    <div class="book-title">
        <p><a href="./13_5_1.html">&lArr;13.5.1 variant</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./13_5_3.html">13.5.3 any&rArr;</a></p>
        <h2>13.5.2. optional</h2>
        <hr>
        <div>
            <p>optional&lt;A&gt; можно рассматривать как частный случай variant (наподобие variant&lt;A, nothing&gt;) или как обобщение идеи о том, что А* либо указывает на объект, либо имеет значение nullptr. </p>
            <p>optional может быть полезным для функций, которые могут как возвращать объект, так и не возвращать его:</p>
            <img src="./13_5_2_p001.png" alt="">
            <p>При этом можно написать</p>
            <img src="./13_5_2_p002.png" alt="">
            <p>Это нравится некоторым программистам, которые недолюбливают исключения (см. § 3.5.5). Обратите внимание на любопытное использование *. optional рассматривается как указатель на свой объект, а не как сам объект.</p>
            <p>optional, являющийся эквивалентом nullptr, - пустой объект{} . Например:</p>
            <img src="./13_5_2_p003.png" alt="">
            <p>При попытке обратиться к optional, в котором не хранится значение, результат является неопределенным; исключение при этом не генерируется. Таким образом, optional не гарантирует безопасность с точки зрения типов. </p>
        </div>
    </div>
</body>