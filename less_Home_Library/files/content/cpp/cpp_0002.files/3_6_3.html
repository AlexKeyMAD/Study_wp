<head>
    <link rel="stylesheet" href="../../css/books_style.css">
</head>

<body>
    <div class="book-title">
        <p><a href="./3_6_2.html">&lArr;3.6.2 Возврат значения</a>&nbsp;&nbsp;&nbsp;<a href="../cpp_0002.html">Содержание</a>&nbsp;&nbsp;&nbsp;<a href="./3_7.html">3.7 Советы&rArr;</a></p>
        <h2>3.6.3. Структурное связывание</h2>
        <hr>
        <div>
            <p>Функция может возвращать только одно значение, но это значение может быть объектом класса со многими членами. Это позволяет нам эффективно возвращать из функции несколько значений. Например:</p>
            <img src="./3_6_3_p001.png" alt="">
            <p>Здесь {s,i} используется для создания возвращаемого значения Entry. Аналогично можно "распаковать" члены Entry в локальные переменные: </p>
            <img src="./3_6_3_p002.png" alt="">
            <p>Конструкция auto [n,v] объявляет две локальные переменные n и v с типами, выведенными из возвращаемого типа read_entry(). Этот механизм придания локальных имен членам объекта класса называется структурным связыванием (structured Ьinding).</p>
            <p>Рассмотрим еще один пример:</p>
            <img src="./3_6_3_p003.png" alt="">
            <p>Как обычно, можно декорировать auto с помощью const и &. Например:</p>
            <img src="./3_6_3_p004.png" alt="">
            <p>Когда структурное связывание используется для класса без закрытых данных, легко увидеть, как выполняется такое связывание: для связывания должно быть определено столько же имен, сколько имеется нестатических членов-данных класса, и каждое
                введенное имя связывается с соответствующим членом. В качестве объектного кода по сравнению с явным использованием составного объекта нет никакого отличия; использование структурного связывания - просто иное выражение все той же концепции.</p>
            <p>Можно также работать и с классами, в которых доступ осуществляется через функции-члены. Например:</p>
            <img src="./3_6_3_p005.png" alt="">
            <p>Объект типа complex имеет два члена-данных, но его интерфейс состоит из функций доступа, таких как real() и imag().Отображение complex &lt;double&gt; на две локальные переменные, такие как re и im, осуществимо и эффективно, но техника, позволяющая
                это сделать, выходит за рамки данной книги.</p>
        </div>
    </div>
</body>