<head>
    <link rel="stylesheet" href="../../css/books_style.css">
</head>

<body>
    <div class="book-title">
        <p><a href="./2_4.html">&lArr;2.4. Объединения</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./2_6.html">2.6. Советы&rArr;</a></p>
        <h2>2.5. Перечисления</h2>
        <hr>
        <div>
            <p>В дополнение к классам С++ поддерживает простую разновидность пользовательских типов, для которой мы можем перечислить значения: </p>
            <img src="./2_5_p001.png" alt="">
            <p>Обратите внимание, что перечислители (например, red) находятся в области видимости своего enum class, так что они могут повторно использоваться в разных enum class без какой-либо путаницы. Например, Color::red является перечислителем red в
                перечислении Color, который отличается от Traffic light::red.</p>
            <p>Перечисления используются для представления небольших множеств целочисленных значений. Они применяются с целью сделать код более удобочитаемым и менее подверженным ошибкам, чем в ситуации, когда такие символические (и мнемонические) имена
                не использовались бы.</p>
            <p>class после enum указывает, что перечисление строго типизировано и что его перечислители имеют ограниченную область видимости. Будучи отдельными типами, перечисления enum class помогают предотвратить случайное злоупотребление константами.
                В частности, мы не можем смешивать значения Traffic light и Color: </p>
            <img src="./2_5_p002.png" alt="">
            <p>Точно так же мы не можем неявно смешивать Color и целочисленные значения:</p>
            <img src="./2_5_p003.png" alt="">
            <p>Перехват попытки преобразования в enum является хорошей защитой от ошибок, но часто мы хотим инициализировать enum значением его базового типа (которым по умолчанию является int), так что это допускается как явное преобразование из базового
                типа:
            </p>
            <img src="./2_5_p004.png" alt="">
            <p>По умолчанию в enum class определены только присваивание, инициализация и сравнения (например, == и &lt;; § 1.4). Однако перечисление является пользовательским типом, так что мы можем определить для него операторы: </p>
            <img src="./2_5_p005.png" alt="">
            <p>Если вы не хотите явно квалифицировать имена перечислителей и хотите, чтобы их значения были целыми числами (без необходимости явного преобразования), можете удалить слово class из enum class и получить "обычный" enum. Перечислители такого
                "обычного" enum находятся в той же области видимости, что и имя их перечисления, и неявно преобразуются в свои целые значения. Например:</p>
            <img src="./2_5_p006.png" alt="">
            <p>Здесь col получает значение 1. По умолчанию целочисленные значения счетчиков начинаются с О и увеличиваются на единицу для каждого очередного перечислителя. "Обычное" перечисление было в С++ (и С) с самых первых дней, так что несмотря на то,
                что они менее хорошо себя ведут, они широко распространены в современном коде.</p>
        </div>
    </div>
</body>