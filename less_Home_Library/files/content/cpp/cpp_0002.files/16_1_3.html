<head>
    <link rel="stylesheet" href="../../css/books_style.css">
</head>

<body>
    <div class="book-title">
        <p><a href="./16_1_2.html">&lArr;16.1.2 Ранние годы</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./16_1_4.html">16.1.4 Стандарты и стиль&rArr;</a></p>
        <h2>16.1.3. Стандарты 150 С++</h2>
        <hr>
        <div>
            <p>Взрывной рост использования С++ вызвал некоторые изменения. В 1987 году стало ясно, что неизбежна формальная стандартизация С++ и что нам нужно начать готовить почву для усилий по стандартизации [51]. Результатом стало сознательное стремление
                поддерживать связь между разработчиками компиляторов С++ и их основными пользователями. Это было сделано с помощью бумажной и электронной почты и личных встреч на конференциях по С++ и в других местах. </p>
            <p>АТ &Т Bell Labs внесла большой вклад в развитие С++, позволив мне поделиться проектами пересмотренных версий справочного руководства по С++ с разработчиками и пользователями. Поскольку многие из этих людей работали в компаниях, которые могут
                рассматриваться как конкурирующие с АТ&Т, значение этого вклада не следует недооценивать. Менее просвещенная компания могла бы вызвать серьезные проблемы фрагментации языка, просто ничего не делая. Как оказалось, около ста человек из десятков
                организаций прочитали и прокомментировали то, что стало общепринятым справочным руководством и базовым документом для усилий по стандартизации ANSI С++. Их имена можно найти в [18]. Комитет ХЗJ16 ANSI был созван в декабре 1989 года по
                инициативе Hewlett-Packard. В июне 1991 года эта ANSI (американская национальная) стандартизация С++ стала частью ISO (международной) стандартизации С++. Комитет ISO С++ называется "WG21 ". С 1990 года эти совместные комитеты по стандартам
                С++ стали основным форумом для развития С++ и уточнения его определения. Я участвовал в этих комитетах повсюду. В частности, будучи председателем рабочей группы по расширениям (позже названной группой эволюции) с 1990 по 2014 год, я непосредственно
                отвечал за обработку предложений об основных изменениях в С++ и добавление новых языковых функций. Первоначальный проект стандарта для публичного рассмотрения был выпущен в апреле 1995 года. Первый стандарт ISO С++ (ISO/IEC 14882-1998)
                [5] был ратифицирован голосованием 22:0 в 1998 году. Выпуск "исправления ошибок" этого стандарта вышел в 2003 году, поэтому иногда можно услышать, что люди ссылаются на С++О3, но, по сути, - это тот же язык, что и С++98.</p>
            <p>С++ 11, в течение многих лет известный как С++Ох, представляет собой работу членов WG2 I. Комитет работал все более и более напряженно, и это, вероятно, и привело к лучшей (и более строгой) спецификации (но и к ограничению количества новинок)
                [54]. Первоначальный проект стандарта для публичного рассмотрения был выпущен в 2009 году. Второй стандарт ISO С++ (ISO/IEC 14882-2011) [8] был ратифицирован голосованием 21 :О в августе 2011 года. </p>
            <p>Одна из причин длительного разрыва между этими двумя стандартами заключается в том, что у большинства членов комитета (включая меня) сложилось ошибочное впечатление, что правила ISO требуют "периода ожидания" между выпуском стандарта и началом
                работы над новыми возможностями языка. Поэтому серьезная работа над новыми языковыми возможностями началась только в 2002 году. Другие причины включали увеличение размера современных языков и их базовых библиотек. В терминах страниц текста
                стандарта язык вырос примерно на 30%, а стандартная библиотека - примерно на 100%. Большая часть увеличения произошла не из-за новой функциональности, а из-за более подробной спецификации. Кроме того, работа над новым стандартом С++, очевидно,
                должна была быть очень осторожной, чтобы не скомпрометировать старый код из-за несовместимых изменений. Есть миллиарды строк кода на С++, которые комитет нарушать не должен. Стабильность на протяжении десятилетий - это важная "возможность"
                языка. </p>
            <p>С++ 11 значительно увеличил стандартную библиотеку и способствовал завершению разработки набора функциональных возможностей, необходимых для стиля программирования, который представляет собой синтез парадигм и идиом, оказавшихся успешными
                в С++98. </p>
            <p>Основными целями С++ 11 были: </p>
            <ul>
                <li>сделать С++ лучшим языком для системного программирования и построения библиотек;</li>
                <li>сделать С++ проще для обучения и изучения.</li>
            </ul>
            <p>Эти цели документированы и детально изложены в [54]. </p>
            <p>Основные усилия были направлены на то, чтобы сделать параллельное системное программирование безопасным с точки зрения типов и переносимым. Это включало модель памяти (§ 15.1) и поддержку программирования без блокировок. Это была работа Ганса
                Бома (Hans Boehm), Брайана Макнайта (McKnight) и других участников рабочей группы по параллелизму. Кроме того, мы добавили библиотеку потоков thread. </p>
            <p>После С++ 11 было достигнуто общее согласие о том, что 13 лет между стандартами - это слишком много. Герб Саттер (Herb Sutter) предложил комитету принять политику принятия стандартов с фиксированными интервалами времени, "модель поезда". Я
                настойчиво приводил доводы в пользу короткого интервала между стандартами, чтобы минимизировать вероятность задержек (потому что кое-кто настаивал на дополнительном времени, чтобы позволить включить "еще одну существенную деталь"). Мы
                договорились об амбициозном трехлетнем графике с идеей, что мы должны чередовать второстепенные и основные выпуски стандарта.</p>
            <p>С++ 14 преднамеренно был сделан второстепенным выпуском, целью которого было "завершение С++ 11 ". Это отражает ту реальность, что при фиксированной дате выпуска всегда будут находиться функциональные возможности языка, которые нам нужны,
                но которые не готовы вовремя. Кроме того, после широкого применения неизбежно будут обнаружены пробелы в наборе функциональных возможностей. </p>
            <p>Чтобы обеспечить более быстрое развитие и параллельную разработку независимых возможностей и лучше использовать энтузиазм и навыки многих добровольцев, комитет использует механизмы ISO для разработки и публикации "Технических спецификаций"
                (Technical Specification - TS). Похоже, это неплохое решение для компонентов стандартной библиотеки, хотя может привести к большему количеству этапов в процессе разработки, а следовательно, к задержкам. Что касается языковых возможностей,
                то здесь TS, кажется, работают не так хорошо. Возможно, причина в том, что немногие существенные языковые функции действительно независимы, потому что работа по разработке формулировок стандартов не сильно различается между стандартом
                и TS и экспериментировать с реализациями компилятора может меньшее количество программистов.</p>
            <p>С++ 17 должен был стать основным выпуском. Под "основным" я подразумеваю наличие функций, которые изменят наши взгляды на дизайн и структуру нашего программного обеспечения. По этому определению С++ 17 был в лучшем случае средним выпуском.
                Он включал в себя множество незначительных расширений, но функции, которые внесли бы существенные изменения (например, концепты, модули и сопрограммы), либо были не готовы, либо погрязли в противоречиях и отсутствии направленного проектирования.
                В результате С++ 17 включает в себя всего понемногу, но ничего такого, что существенно изменило бы жизнь программиста на С++, который уже усвоил уроки C++l 1 и С++\4. Я надеюсь, что С++20 станет обещанной и столь необходимой крупной версией
                и что основные новинки станут широко доступны задолго до 2020 года. Опасности заключаются в "проектировании комитетом" - в раздувании функциональных возможностей, отсутствии согласованного стиля и близоруких решениях. В комитете с более
                чем ста членами, присутствующими на каждом собрании, и большим количеством удаленных участников по сети такие нежелательные явления почти неизбежны. Продвигаться к более простому и последовательному языку очень сложно.</p>
        </div>
    </div>
</body>