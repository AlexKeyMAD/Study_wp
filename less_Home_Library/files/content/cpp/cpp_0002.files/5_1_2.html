<head>
    <link rel="stylesheet" href="../../css/books_style.css">
</head>

<body>
    <div class="book-title">
        <p><a href="./5_1_1.html">&lArr;5.1.1 Основные операции</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./5_1_3.html">5.1.3 Инициализаторы членов&rArr;</a></p>
        <h2>5.1.2. Преобразования типов</h2>
        <hr>
        <div>
            <p>Конструктор, получающий единственный аргумент, определяет операцию преобразования из типа аргумента. Например, complex (§4.2.1) предоставляет конструктор от double:</p>
            <img src="./5_1_2_p001.png" alt="">
            <p>Такое неявное преобразование иногда оказывается идеальным, но не всегда. Например, Vector (§4.2.2) предоставляет конструктор от int: </p>
            <img src="./5_1_2_p002.png" alt="">
            <p>Такая запись обычно рассматривается как неудачная, и vector стандартной библиотеки не допускает такого "преобразования" int в vector. </p>
            <p>Способ избежать этой проблемы заключается в том, чтобы разрешить только явное "преобразование", т.е. мы можем определить конструктор следующим образом:</p>
            <img src="./5_1_2_p003.png" alt="">
            <p>Это дает нам</p>
            <img src="./5_1_2_p004.png" alt="">
            <p>Когда дело доходит до преобразований, на Vector похоже больше типов, чем на complex, поэтому, если нет веской причины поступать иначе, используйте explicit для конструкторов, которые принимают один аргумент.</p>
        </div>
    </div>
</body>