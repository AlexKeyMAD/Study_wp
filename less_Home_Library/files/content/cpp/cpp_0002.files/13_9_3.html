<head>
    <link rel="stylesheet" href="../../css/books_style.css">
</head>

<body>
    <div class="book-title">
        <p><a href="./13_9_2.html">&lArr;13.9.2 Предикаты типов</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./13_10.html">13.10 Советы&rArr;</a></p>
        <h2>13.9.3. еnаblе_if</h2>
        <hr>
        <div>
            <p>Очевидные способы использования предикатов типов включают условия для static_assert, if времени компиляции и enable_if. enable_if стандартной библиотеки - это широко используемый механизм для условного введения определений. Рассмотрим определение
                "интеллектуального указателя":</p>
            <img src="./13_9_3_p001.png" alt="">
            <p>Оператор -&gt; должен быть определен тогда и только тогда, когда т является типом класса. Например, Srnart_pointer&lt;vector&lt;T&gt;&gt; должен иметь оператор-&gt;, а Srnart_pointer&lt;int&gt; - не должен. Мы не можем использовать if времени
                компиляции, потому что мы не внутри функции. Вместо этого мы пишем</p>
            <img src="./13_9_3_p002.png" alt="">
            <p>Моя функция типа Is_class() определена с использованием свойства типа is class точно так же, как определена Is_aritmetic () в §13.9.2. </p>
            <p>Если Is_class&lt;T&gt; () имеет значение true, возвращаемый тип opera tor-&gt;()-Т&; в противном случае определение оператора operator-&gt;() игнорируется. </p>
            <p>Синтаксис enable_if странный, неудобный в использовании и во многих случаях станет ненужным при появлении концептов (§7.2). Тем не менее еnаblе_if является основой современного шаблонного метапрограммирования и многих компонентов стандартной
                библиотеки. Он основан на тонкой языковой возможности под названием SFINAE ("Substitution Failure ls Not An Error" - "ошибка подстановки ошибкой не является").</p>
        </div>
    </div>
</body>